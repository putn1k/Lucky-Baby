!function(){"use strict";var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(document.querySelector(e))return new Swiper(document.querySelector(e),Object.assign({slidesPerView:1,spaceBetween:30,watchSlidesProgress:!0,lazy:!0},t))},t={speed:900,speedAsDuration:!0,updateURL:!1},n={countryCode:"+971",bodyMask:" ___ ___ ____"},o={errorFieldCssClass:"is-invalid",errorLabelCssClass:"is-error-label",errorLabelStyle:{color:"var(--error)",fontSize:"10px"}},a={rootMargin:"100px",threshold:0},r={rootMargin:"600px",threshold:1},i="https://jsonplaceholder.typicode.com/posts",s={slidesPerView:1.4,breakpoints:{576:{slidesPerView:2},768:{slidesPerView:3},1600:{slidesPerView:4}}},c={slidesPerView:1,breakpoints:{768:{slidesPerView:2},1200:{slidesPerView:3},1600:{slidesPerView:4}}},d=new HystModal({linkAttributeName:!1,catchFocus:!0,closeOnEsc:!0,backscroll:!0}),l=function(){d.open("#send-ok-modal")},u=function(e){e.classList.add("shaked"),setTimeout((function(){e.classList.remove("shaked")}),1500)};document.addEventListener("DOMContentLoaded",(function(){var m,p;(function(){if((!window.MSInputMethodContext||!document.documentMode)&&(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",(function(){e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(e,"px"))}))}})(),m=document.querySelector(".site-header"),p=document.querySelector(".fix-site-header"),new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?p.classList.remove("is-visible"):p.classList.add("is-visible")}))}),a).observe(m),window.addEventListener("load",(function(){var a,m,p;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-hystmodal";e.config.linkAttributeName=t,e.init()}(),a=document.querySelector("#scroll-top"),m=document.querySelector("#site-top"),a&&m&&(new SmoothScroll('a[href*="#"]',t),new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?a.classList.remove("scroll-top--show"):a.classList.add("scroll-top--show")}))}),r).observe(m)),(p=document.querySelectorAll("form[data-validate]")).length<1||p.forEach((function(e){var t="#".concat(e.id),a=new JustValidate(t,o),r=document.querySelectorAll("".concat(t," [required]"));new JustPhoneMask(n),r.length<1||(r.forEach((function(e){switch(e.dataset.validate){case"name":a.addField("".concat(t,' [data-validate="name"]'),[{rule:"required",value:!0}]);break;case"email":a.addField("".concat(t,' [data-validate="email"]'),[{rule:"required",value:!0},{rule:"email"}]);break;case"phone":a.addField("".concat(t,' [data-validate="phone"]'),[{rule:"required",value:!0},{rule:"minLength",value:document.querySelector("".concat(t,' [data-validate="phone"]')).dataset.mask.length}]);break;case"subject":a.addField("".concat(t,' [data-validate="subject"]'),[{rule:"required",value:!0}]);break;case"message":a.addField("".concat(t,' [data-validate="message"]'),[{rule:"required",value:!0},{rule:"minLength",value:10},{rule:"maxLength",value:200}])}})),a.onSuccess((function(e){!function(e,t,n,o){var a,r=document.documentElement.classList.contains("hystmodal__opened")?e.target.closest(".hystmodal__window"):e.target;(a=e.target).querySelector('[type="submit"]')&&a.querySelector('[type="submit"]').setAttribute("disabled","disabled"),fetch(t,{method:"POST",body:new FormData(e.target)}).then((function(t){t.ok?(n(),e.target.reset()):o(r)})).catch((function(){o(r)})).finally((function(){!function(e){e.querySelector('[type="submit"]')&&e.querySelector('[type="submit"]').removeAttribute("disabled")}(e.target)}))}(e,i,l,u)})))})),function(){var e=document.querySelectorAll("[data-trigger]");function t(){document.querySelectorAll("[data-popup].is-show").forEach((function(e){return n(e)})),document.removeEventListener("click",o),document.removeEventListener("keydown",r)}function n(e){document.querySelectorAll("[data-trigger].is-expanded").forEach((function(e){return e.classList.remove("is-expanded")})),document.documentElement.classList.remove("is-open-popup"),e.classList.remove("is-show")}var o=function(e){e.target.closest("[data-popup]")||e.target.closest("[data-trigger]")||!document.documentElement.classList.contains("is-open-popup")||t()},a=function(e){e.preventDefault();var a=e.target.closest("[data-trigger]"),i=a.dataset.trigger,s=document.querySelector("[data-popup=".concat(i,"]"));s&&(s.classList.contains("is-show")?n(s):function(e,n){t(),document.addEventListener("click",o),document.addEventListener("keydown",r),n.classList.add("is-expanded"),e.classList.add("is-show"),document.documentElement.classList.add("is-open-popup")}(s,a))},r=function(e){(function(e){return"Escape"===e.key})(e)&&t()};e.forEach((function(e){e.addEventListener("click",a)}))}(),e(".bestsellers__products",s),e(".main-blog__articles",c)}))}))}();