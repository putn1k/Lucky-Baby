!function(){"use strict";var e={speed:900,speedAsDuration:!0,updateURL:!1},t={countryCode:"+971",bodyMask:" ___ ___ ____"},n={errorFieldCssClass:"is-invalid",errorLabelCssClass:"is-error-label",errorLabelStyle:{color:"var(--error)",fontSize:"10px"}},o={rootMargin:"600px",threshold:1},a="https://jsonplaceholder.typicode.com/posts",r=new HystModal({linkAttributeName:!1,catchFocus:!0,closeOnEsc:!0,backscroll:!0});r.config.beforeOpen=function(e){if(e.starter&&e.starter.dataset.subject){var t=e.openedWindow.querySelector('input[name="Subject"]');t&&(t.value=e.starter.dataset.subject)}};var c=function(){r.open("#send-ok-modal")},i=function(){r.open("#send-error-modal")};document.addEventListener("DOMContentLoaded",(function(){(function(){if((!window.MSInputMethodContext||!document.documentMode)&&(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",(function(){e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(e,"px"))}))}})(),window.addEventListener("load",(function(){var d,s,u;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-hystmodal";e.config.linkAttributeName=t,e.init()}(),d=document.querySelector("#scroll-top"),s=document.querySelector("#site-top"),d&&s&&(new SmoothScroll('a[href*="#"]',e),new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?d.classList.remove("scroll-top--show"):d.classList.add("scroll-top--show")}))}),o).observe(s)),(u=document.querySelectorAll("form[data-validate]")).length<1||u.forEach((function(e){var o="#".concat(e.id),r=new JustValidate(o,n),d=document.querySelectorAll("".concat(o," [required]"));new JustPhoneMask(t),d.length<1||(d.forEach((function(e){switch(e.dataset.validate){case"name":r.addField("".concat(o,' [data-validate="name"]'),[{rule:"required",value:!0}]);break;case"email":r.addField("".concat(o,' [data-validate="email"]'),[{rule:"required",value:!0},{rule:"email"}]);break;case"phone":r.addField("".concat(o,' [data-validate="phone"]'),[{rule:"required",value:!0},{rule:"minLength",value:document.querySelector("".concat(o,' [data-validate="phone"]')).dataset.mask.length}]);break;case"subject":r.addField("".concat(o,' [data-validate="subject"]'),[{rule:"required",value:!0}]);break;case"message":r.addField("".concat(o,' [data-validate="message"]'),[{rule:"required",value:!0},{rule:"minLength",value:10},{rule:"maxLength",value:200}])}})),r.onSuccess((function(e){!function(e,t,n,o){var a;(a=e.target).querySelector('[type="submit"]')&&a.querySelector('[type="submit"]').setAttribute("disabled","disabled"),fetch(t,{method:"POST",body:new FormData(e.target)}).then((function(t){t.ok?(n(),e.target.reset()):o()})).catch((function(){o()})).finally((function(){!function(e){e.querySelector('[type="submit"]')&&e.querySelector('[type="submit"]').removeAttribute("disabled")}(e.target)}))}(e,a,c,i)})))})),function(){var e=document.querySelectorAll("[data-trigger]");function t(){document.querySelectorAll("[data-popup].is-show").forEach((function(e){return n(e)})),document.removeEventListener("click",o),document.removeEventListener("keydown",r)}function n(e){document.querySelectorAll("[data-trigger].is-expanded").forEach((function(e){return e.classList.remove("is-expanded")})),document.documentElement.classList.remove("is-open-popup"),e.classList.remove("is-show")}var o=function(e){e.target.closest("[data-popup]")||e.target.closest("[data-trigger]")||!document.documentElement.classList.contains("is-open-popup")||t()},a=function(e){e.preventDefault();var a=e.target.closest("[data-trigger]"),c=a.dataset.trigger,i=document.querySelector("[data-popup=".concat(c,"]"));i&&(i.classList.contains("is-show")?n(i):function(e,n){t(),document.addEventListener("click",o),document.addEventListener("keydown",r),n.classList.add("is-expanded"),e.classList.add("is-show"),document.documentElement.classList.add("is-open-popup")}(i,a))},r=function(e){(function(e){return"Escape"===e.key})(e)&&t()};e.forEach((function(e){e.addEventListener("click",a)}))}()}))}))}();